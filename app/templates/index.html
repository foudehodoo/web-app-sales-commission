{% extends "base.html" %}
{% block content %}
<form action="/upload-all" method="post" enctype="multipart/form-data">
    <!-- ุจุงฺฉุณ ุฑุงูููุง ููุดููุฏ ุฒูุงู ู CRM -->
    <div class="summary-card"
        style="margin-bottom: 24px; border-inline-start: 4px solid #8b5cf6; background: linear-gradient(to left, #f5f3ff, rgba(255,255,255,0.95));">
        <div class="summary-card-header">
            <div class="summary-title">
                <span class="summary-icon" style="background: #ede9fe; color: #7c3aed; font-size: 18px;">๐</span>
                <div>
                    <span class="summary-title-main" style="color: #5b21b6;">ุฑุงูููุง ููุดููุฏ ุฒูุงู ู CRM</span>
                    <div class="summary-title-sub">ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุดุชุฑุงู ุฌุฏุฏ ู ุจุงุฒฺฏุดุช</div>
                </div>
            </div>
        </div>
        <div class="summary-card-body" style="padding-top: 8px;">
            <ul style="margin: 0; padding-inline-start: 20px; color: #4b5563; font-size: 12px; line-height: 2;">
                <li>
                    <strong>ุชุดุฎุต ูุดุชุฑ ุฌุฏุฏ:</strong>
                    ุณุณุชู ุจุง ุจุฑุฑุณ ูุงู ุณูุงุจู (ูุซูุงู <code>1403.xlsx</code>)ุ ูุดุชุฑุงู ุจุฏูู ุณุงุจูู ุฑุง ุดูุงุณุง ูโฺฉูุฏ.
                </li>
                <li>
                    <strong>ูุงููู ุจุงุฒฺฏุดุช (Re-activation):</strong>
                    ุงฺฏุฑ ูุดุชุฑ ุจุด ุงุฒ
                    <!-- ูุฑูุฏ ุชูุธู ุฑูุฒูุง ุจุงุฒฺฏุดุช -->
                    <input type="number" name="reactivation_days" value="90" min="1" max="365"
                        style="width: 60px; padding: 2px 6px; border: 1px solid #a78bfa; border-radius: 4px; text-align: center; font-weight: bold; color: #7c3aed;">
                    ุฑูุฒ ุฎุฑุฏ ูฺฉุฑุฏู ุจุงุดุฏุ ุฏูุจุงุฑู ยซุฌุฏุฏยป ูุญุณูุจ ุดุฏู ู ูพูุฑุณุงูุช ุทูุง ูโฺฏุฑุฏ.
                </li>
                <li>
                    <strong>ุขูุงุฏูโุณุงุฒ CRM:</strong>
                    ุงุทูุงุนุงุช ูุดุชุฑุงู ุฌูุช ุงุชุตุงู ุจู ูพูู CRM ู ุจุงุดฺฏุงู ูุดุชุฑุงู ุชุญูู ูโุดูุฏ.
                </li>
            </ul>
        </div>
    </div>

    <div class="hero-intro">
        <h1>ูุญุงุณุจู ูพูุฑุณุงูุช ูุฑูุด</h1>
        <p>
            ุฏุฑ ุณู ูุฏู ุ ูพูุฑุณุงูุช ูุฑูุดูุฏูโูุง ุฑุง ุจุฑ ุงุณุงุณ ูููุช ุชุณูู ู ูุถุนุช ูพุฑุฏุงุฎุชโูุง ุญุณุงุจ ฺฉูุฏ:
            ุขูพููุฏ ูุงูโูุง โ ุชูุธู ฺฏุฑููโูุง โ ูุดุงูุฏู ูุชุฌู ู ูพูุฑุณุงูุช ููุง.
        </p>
    </div>

    <div class="upload-grid">
        <!-- ุณุชูู ฺูพ: ูุฑู ุงุตู ุขูพููุฏ -->
        <div class="upload-card">
            <div class="upload-card-title">ูุฑุญูู ฑ: ุขูพููุฏ ูุงูโูุง</div>
            <div class="upload-card-subtitle">
                ุญุฏุงูู ูุงู ูุฑูุด ู ูพุฑุฏุงุฎุชโูุง ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ูุงู ฺฺฉโูุง ุงุฎุชุงุฑ ุงุณุช.
            </div>
            <div class="form-row">
                <label>ูุงู ุงฺฉุณู ูุฑูุดโูุง</label><br />
                <input type="file" name="sales_file" accept=".xlsx,.xls" required />
                <small>ุงู ูุงู ูุจูุง ูุญุงุณุจู ูพูุฑุณุงูุช ุงุณุช (ุฎุฑูุฌ ูุงฺฉุชูุฑูุง ูุฑูุด).</small>
            </div>
            <div class="form-row">
                <label>ูุงู ุงฺฉุณู ูพุฑุฏุงุฎุชโูุง</label><br />
                <input type="file" name="payments_file" accept=".xlsx,.xls" required />
                <small>ูพุฑุฏุงุฎุชโูุง ููุฏ ู ูุงุฑุฒโูุง / ูุตูู ฺฺฉโูุง ุฏุฑ ุงู ูุงู ูุฑุงุฑ ุฏุงุฑูุฏ.</small>
            </div>
            <div class="form-row">
                <label>ูุงู ุงฺฉุณู ฺฺฉโูุง </label><br />
                <input type="file" name="checks_file" accept=".xlsx,.xls" />
                <small>ุจุฑุง ุงุชุตุงู ูพุฑุฏุงุฎุชโูุง ููุน ยซฺฺฉยป ุฑุง ุฏูู ุจู ูุดุชุฑ ูุตู ฺฉูู.</small>
            </div>

            <!-- ุจุฎุด ูุงู ุณูุงุจู (ุชุงุฑุฎฺู) -->
            <div style="margin-top: 32px; padding-top: 24px; border-top: 1px dashed #cbd5e1;">
                <h3 style="display:flex; align-items:center; gap:8px; margin-bottom:8px;">
                    <span style="font-size:20px;">๐</span>
                    ูุงู ุณูุงุจู ูุฑูุด (ุฌูุช ูุญุงุณุจู ูุฏูุช ูุดุชุฑ)
                </h3>
                <p style="margin-bottom:12px;">
                    ุจุฑุง ุงูฺฉู ุณุณุชู ุจุชูุงูุฏ ูุดุชุฑุงู ูุฏู ฺฉู ุฏูุจุงุฑู ูุนุงู ุดุฏูโุงูุฏ ุฑุง ุชุดุฎุต ุฏูุฏุ ูุงู ูุฑูุด ุณุงู ฺฏุฐุดุชู
                    ุฑุง ุงูุฌุง ุขูพููุฏ ฺฉูุฏ.
                </p>
                <div class="form-row">
                    <label for="history_file">ุงูุชุฎุงุจ ูุงู ุณูุงุจู:</label>
                    <input type="file" id="history_file" name="history_file" accept=".xlsx, .xls"
                        style="border: 2px dashed #a78bfa; background: #fdfcff;">
                    <small style="display:block; margin-top:6px; color:#7c3aed;">* ุงู ูุงู ุงุฎุชุงุฑ ุงุณุชุ ุงูุง ุจุฑุง ูุญุงุณุจู
                        ุฏูู ูพุงุฏุงุด ูุดุชุฑุงู ุฌุฏุฏ ุชูุตู ูโุดูุฏ.</small>
                </div>
            </div>
            <button type="submit">ูุฑุญูู ุจุนุฏ: ุชุนุฑู ุชูุธูุงุช ฺฏุฑููโูุง</button>
        </div>

        <!-- ุณุชูู ุฑุงุณุช: ุฑุงูููุง + ฺฉุงุฑุชโูุง ุชูุถุญ ูุงูโูุง -->
        <div class="upload-card upload-card-light">
            <div class="upload-card-title">ุฑุงูููุง ุณุงุฎุช ูุงูโูุง</div>
            <div class="upload-card-subtitle">
                ูุณุฑูุง ุฎุฑูุฌ ฺฏุฑูุชู ุฏุฑ ูุฑูโุงูุฒุงุฑ ุญุณุงุจุฏุงุฑ ุขุณุง
            </div>
            <div class="summary-grid">
                <!-- ูุฑูุดโูุง -->
                <div class="summary-card summary-sales">
                    <div class="summary-card-header">
                        <div class="summary-title">
                            <div class="summary-icon">๐งพ</div>
                            <div>
                                <div class="summary-title-main">ูุงู ูุฑูุดโูุง</div>
                                <div class="summary-title-sub">ฺฏุฒุงุฑุด ุฑุฒ ูุฑูุด ฺฉุงูุงูุง ุจู ูุดุชุฑุงู</div>
                            </div>
                        </div>
                        <button type="button" class="pill-button" data-toggle="hint" data-target="sales-hint">
                            ููุงุด ุฑุงูููุง
                        </button>
                    </div>
                    <div id="sales-hint" class="summary-card-body hint-hidden">
                        <div class="hint-title">ุจุฑุง ุขูุงุฏูโุณุงุฒ ุงฺฉุณู ุจุฎุด ูุฑูุด ูุณุฑ ุฒุฑ ุฑุง ุฏุฑ ูุฑูโุงูุฒุงุฑ ุขุณุง ุท ฺฉูุฏ:
                        </div>
                        <div class="pill-section">
                            <div class="pill-row">
                                <span class="badge-pill">ุฌุฒุฑู ูุฑูุด</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill">ฺฏุฒุงุฑุดุงุช ูุดุชุฑุงู</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill" style="background-color: #d1fae5; color: #065f46;">ฺฏุฒุงุฑุด ุฑุฒ
                                    ูุฑูุด ฺฉุงูุง ูุง ุจู ูุดุชุฑุงู</span>
                            </div>
                        </div>
                        <p class="hint-note">
                            ูพุณ ุงุฒ ุจุงุฒ ุดุฏู ฺฏุฒุงุฑุดุ ุฏฺฉูู ุฎุฑูุฌ ุงฺฉุณู ุฑุง ุจุฒูุฏ ู ูุงู ุฑุง ุฏุฑ ุงูุฌุง ุขูพููุฏ ฺฉูุฏ.
                        </p>
                    </div>
                </div>

                <!-- ูพุฑุฏุงุฎุชโูุง -->
                <div class="summary-card summary-payments">
                    <div class="summary-card-header">
                        <div class="summary-title">
                            <div class="summary-icon">๐ฆ</div>
                            <div>
                                <div class="summary-title-main">ูุงู ูพุฑุฏุงุฎุชโูุง</div>
                                <div class="summary-title-sub">ฺฏุฒุงุฑุด ฺฏุฑุฏุด ููุฌูุฏ ุญุณุงุจ ุจุงูฺฉ</div>
                            </div>
                        </div>
                        <button type="button" class="pill-button" data-toggle="hint" data-target="payments-hint">
                            ููุงุด ุฑุงูููุง
                        </button>
                    </div>
                    <div id="payments-hint" class="summary-card-body hint-hidden">
                        <div class="hint-title">ุจุฑุง ุขูุงุฏูโุณุงุฒ ุงฺฉุณู ุจุฎุด ูพุฑุฏุงุฎุช ูุณุฑ ุฒุฑ ุฑุง ุฏุฑ ูุฑูโุงูุฒุงุฑ ุขุณุง ุท ฺฉูุฏ:
                        </div>
                        <div class="pill-section">
                            <div class="pill-row">
                                <span class="badge-pill">ุฌุฒุฑู ุญุณุงุจุฏุงุฑ</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill">ฺฏุฒุงุฑุดุงุช ุฎุฒุงูู ุฏุงุฑ</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill" style="background-color: #dbeafe; color: #1e40af;">ฺฏุฒุงุฑุด ฺฏุฑุฏุด
                                    ููุฌูุฏ ุญุณุงุจ ุจุงูฺฉ</span>
                            </div>
                        </div>
                        <p class="hint-note">
                            ุงู ฺฏุฒุงุฑุด ุดุงูู ุชูุงู ูุฑูุฏโูุง ู ุฎุฑูุฌโูุง ุจุงูฺฉ ุงุณุช ฺฉู ุจุฑุง ุชุทุจู ุจุง ูุงฺฉุชูุฑูุง ุถุฑูุฑ ูโุจุงุดุฏ.
                        </p>
                    </div>
                </div>

                <!-- ฺฺฉโูุง -->
                <div class="summary-card summary-checks">
                    <div class="summary-card-header">
                        <div class="summary-title">
                            <div class="summary-icon">๐ณ</div>
                            <div>
                                <div class="summary-title-main">ูุงู ฺฺฉโูุง </div>
                                <div class="summary-title-sub">ูุณุช ฺฉูู ุงุณูุงุฏ ุฏุฑุงูุชู</div>
                            </div>
                        </div>
                        <button type="button" class="pill-button" data-toggle="hint" data-target="checks-hint">
                            ููุงุด ุฑุงูููุง
                        </button>
                    </div>
                    <div id="checks-hint" class="summary-card-body hint-hidden">
                        <div class="hint-title">ุจุฑุง ุขูุงุฏูโุณุงุฒ ุงฺฉุณู ุจุฎุด ฺฺฉโูุง ูุณุฑ ุฒุฑ ุฑุง ุฏุฑ ูุฑูโุงูุฒุงุฑ ุขุณุง ุท ฺฉูุฏ:
                        </div>
                        <div class="pill-section">
                            <div class="pill-row">
                                <span class="badge-pill">ุฌุฒุฑู ุญุณุงุจุฏุงุฑ</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill">ฺฏุฒุงุฑุดุงุช ุฎุฒุงูู ุฏุงุฑ</span>
                                <span style="font-size: 20px;">โ</span>
                                <span class="badge-pill" style="background-color: #ffedd5; color: #9a3412;">ูุณุช ฺฉูู
                                    ุงุณูุงุฏ ุฏุฑุงูุชู</span>
                            </div>
                        </div>
                        <p class="hint-note">
                            ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ูุณุชุ ุณุณุชู ูโุชูุงูุฏ ุดูุงุฑู ฺฺฉโูุง ููุฌูุฏ ุฏุฑ ุชูุถุญุงุช ูุงุฑุฒโูุง ุฑุง ุจู ูุดุชุฑ
                            ุตุญุญ ูุชุตู ฺฉูุฏ.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<!-- ุงุณฺฉุฑูพุช ูุฑุจูุท ุจู ุจุงุฒ ู ุจุณุชู ฺฉุฑุฏู ุฑุงูููุงูุง -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggleButtons = document.querySelectorAll('[data-toggle="hint"]');

        toggleButtons.forEach(function (btn) {
            btn.addEventListener('click', function () {
                const targetId = this.getAttribute('data-target');
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    targetElement.classList.toggle('hint-hidden');

                    if (targetElement.classList.contains('hint-hidden')) {
                        this.textContent = 'ููุงุด ุฑุงูููุง';
                    } else {
                        this.textContent = 'ูุฎู ฺฉุฑุฏู ุฑุงูููุง';
                    }
                }
            });
        });
    });
</script>
{% endblock %}